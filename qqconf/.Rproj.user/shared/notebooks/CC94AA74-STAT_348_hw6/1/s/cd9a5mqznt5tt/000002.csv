"0","# Want to simulate a bunch of data"
"0","# To do this, first simulate from a normal with mu and eta a value"
"0","# Then simulate the data x using the sd vec"
"0","par(mfrow = c(1,1))"
"0","set.seed(347)"
"0","mu <- 0"
"0","eta <- log(1)"
"0","num_points <- 100"
"0","init_seq <- list(c(-50, 1.3), c(-3, 4), c(4, .2), c(12, .75))"
"0","for(init in init_seq) {"
"0","  "
"0","  # First, generate the data"
"0","  s_vec <- runif(n = num_points, min = .75, max = 1.25)"
"0","  mu_vec <- rnorm(n = num_points, mean = mu, sd = exp(eta))"
"0","  x_vec <- rnorm(n = num_points, mean = mu_vec, sd = s_vec)"
"0","  "
"0","  # Now, need to run the metropolis hastings"
"0","  out_dist <- mh_normal_means(mu_start = init[1], eta_start = init[2], mu_sd = .1,"
"0","                              eta_sd = .01, x_vec = x_vec, s_vec = s_vec)"
"0","  "
"0","  log_lik_seq <- numeric(1000)"
"0","  for(i in seq(from = 1, to = 1000, by = 1)) {"
"0","    "
"0","    log_lik_seq[i] <- log_lik_normal_hier(x_vec = x_vec, s_vec = s_vec, mu = out_dist$mu[i], eta = out_dist$eta[i])"
"0","    "
"0","  }"
"0","  "
"0","  plot(log_lik_seq, type = ""l"", ylab = ""Log Liklihood"", main = glue::glue(""Plot for All Indices - mu_start = {init[1]}, sigma_start = {round(exp(init[2]), 2)}""))"
"0","  plot(log_lik_seq[26:1000], type = ""l"", ylab = ""Log Liklihood"", main = glue::glue(""Plot Excluding First 25 Samples - mu_start = {init[1]}, sigma_start = {round(exp(init[2]), 2)}""))"
"0","  hist(out_dist$mu[26:1000], freq = FALSE, xlab = ""Mu"", main = glue::glue(""Mu Posterior: mean = {round(mean(out_dist$mu[26:1000]), 3)}, sd = {round(sd(out_dist$mu[26:1000]), 3)}, 90% CI = [{round(as.numeric(quantile(out_dist$mu[26:1000], c(.05))), 3)}, {round(as.numeric(quantile(out_dist$mu[26:1000], c(.95))), 3)}]""))"
"0","  hist(exp(out_dist$eta[26:1000]), freq = FALSE, xlab = ""Sigma"", main = glue::glue(""Sigma Posterior: mean = {round(mean(exp(out_dist$eta[26:1000])), 3)}, sd = {round(sd(exp(out_dist$eta[26:1000])), 3)}, 90% CI = [{round(as.numeric(quantile(exp(out_dist$eta[26:1000]), c(.05))), 3)}, {round(as.numeric(quantile(exp(out_dist$eta[26:1000]), c(.95))), 3)}]""))"
"0","  # I'll worry about the histograms later, but for now I'll focus on the plots I'm instructed to make"
"0","  #hist(out_dist$mu)"
"0","  #hist(exp(out_dist$eta))"
"0","  "
"0","}"
